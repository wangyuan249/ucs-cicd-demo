# UCS Demo
name: Result Service Building Process For UCS CICD Demo. 
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
    - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
    - run: echo "Now, Building image for result service. "
    - name: Checkout
      uses: actions/checkout@v4
    - name: Build
      run: | 
        docker build -f result/Dockerfile -t result:latest . 
    - run: |
        sudo docker tag result:latest swr.ap-southeast-3.myhuaweicloud.com/ucs/result:latest
    # - run: |
    #     sudo docker login -u ap-southeast-3@4HY7CDIS5D51NXYXHCO4 -p e19abd6b44103f53c6871258a78dabd3c2f875e3e414752354bc6250ea80863e swr.ap-southeast-3.myhuaweicloud.com && docker push swr.ap-southeast-3.myhuaweicloud.com/ucs/result:latest
    

